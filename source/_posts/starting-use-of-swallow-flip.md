---
title: 开锋
date: 2024-10-13 23:09:10
tags:
- 随笔
categories:
index_img: https://i.postimg.cc/5x62TXNp/image.png
banner_img: https://i.postimg.cc/5x62TXNp/image.png
---

剑有剑锋，笔有笔锋。咱也不讲究，就讲一些琐事，就当是给“燕返”[^1]开锋了。当然，目前还没有加上 HMM 或者 SLM 的长句算法，甚至连调频、造词的功能也还没有，不过，总归是已经能够简单使用了，毕竟，辅助码是已经完整地实现了，词库也把我汇集的两百万个条目接入了，所以即使是缺失了很多功能，也比原生的默认版本的输入法好用太多了。那么，就来简单操练一二。人生苦短，如果能够在这个世界上尽可能多地留下自己的痕迹，或者截取自己的记忆，那么，也算得上是一件宽慰人心的事情。

山中无甲子寒尽不知年，我也很少去看当天是星期几，乃至楼下的桂花开了，才意识到已经深秋，既然已经入秋，那么，入秋该听的歌是什么呢？当然是夏小桐的少年弦和归来叙。秋天烟多，农户烧水稻的秸秆，这是避免不了的，却也为记忆多加了一维信息，所以，很多人到了深秋，深感烟笼寒水月笼沙之萧索，多少也离不开这维调剂。

前几天看聊斋入了迷，当然是 88 版的聊斋，也就是主题曲是彭所演绎的那个版本，一共七十来集，大概已经看去三分之二。对，是之前调试 HMM 的时候，顺带着放在旁边解乏的，因为代码的主体有人帮忙理解了，所以，我就做一些基础性的不费脑子的工作，刚好一拍即合，解困是效果极佳。不过，最近的这个星期忙于草创 fcitx5-FanIME 的代码，而这个 C++ 毕竟是要费一些工夫的，所以，只能一心一意贯注其中，也就没了聊斋的时间。

先说聊斋，聊斋的经典毋须我赘言，自其问世以来，多少郁郁的儒生聊寄不得志于其中鬼狐仙怪，即使在娱乐方式如此繁复的当代，亦少不了一些酸人落落捧读。88 的聊斋为何经典？如果去翻豆瓣的影评，多少会和男权女权扯上一点关系，实际上是一点关系也扯不上的，中华书局和上海古籍出版社的随书点评倒是在一些篇目中提到了一些男权的弊病，那特定的文章既然有问题，那么，必然不得不批判一二，而影视剧中表现得却是不多，也远没有到可以影响全片质量的地步，相反，在原作的基础上还有相当多的升华。那么，实际来看，此剧的独特之处，主题曲的演绎者功底自不必说，虽然现在为了避嫌好坏都不可以说，再就是文学顾问之流，比较熟悉的名字有曹禺、袁世硕这些，有这些人把关，其质量焉能差矣？我读聊斋的部分篇章，其中滋味是比较平淡的，甚至有些清汤寡水的味道，但是到了剧中，经过每一集的导演和编剧的精心打磨，台本的艺术造诣浑然来到了另一个境界。当然，这里不是说蒲松龄的文采不好，因为单单是一篇娇娜就可以令人目眩神迷，但古文毕竟离我们稍稍有些远了，而如何将古文转换为我们易于理解的日常用语，同时不失其古韵，这一点是很难的，不仅编剧做到了，而且导演配合得也相当好，如果你想体验新鲜感，编剧和导演还是扎堆的，不同的剧集除了换演员，也有不同的编剧、导演来设计编排，实属难得，说是艺术品，大家可能会质疑，那么演员怎么样呢？演员？那可是最后一个可以挑到传统戏剧演员的时代，自那之后，便是绝唱。现代的演员，尽是丑角一只只！但凡有点姿色，都要搔首弄姿，人前出丑，当真是臭不可闻。此剧之女角，一颦一笑，皆不失大家风范，就是一些丫环配角，拎出来也比当今的狗皮膏药演员好上千百倍，偏偏现代的年轻人喜欢这些不人不鬼的骚狐狸，也是一种奇观。男角亦不失古风，这一点最重要，也没有丢，长相只要稍微周正一点，便也说得过去了。穷困潦倒的书生，哪能细皮嫩肉、衣马轻肥呢？

再谈输入法，HMM 还需要调试，只要速度和准确率大致可以过关，就能使用，当然，速度方面，如果能够做到 0.1ms 最坏也是 0.5ms，那么就达标了。不过，虽说我已经对 HMM 暂时失去了信息，可又找到了两篇极好的的文章，

- <https://web.archive.org/web/20081121044533/http://www.opensolaris.org/os/project/input-method/documents/sunpinyin_code_tour_slm/>
- <https://web.archive.org/web/20081120102440/http://www.opensolaris.org/os/project/input-method/documents/sunpinyin_code_tour_ime/>

基于 SLM 的长句算法，至此有了另外一个可能性。

对于输入法的主体部分，其实有了前人(wengxt)的工夫铺垫，实际操作起来没有费太多的心思，反倒是编程语言方面需要打磨(扶额)。

速度，和准确性同等重要。纠错什么的其实不重要，双拼不需要纠错。那么，两百万的词库说大，其实也不大，加个索引，速度在大部分情况下也能来到 1ms 以下，可是有些情况下，也就是模糊搜索的情况下，速度超过了 1ms，甚至有来到 10ms 的，更何况，后面可能还会有更加复杂的查询操作，那么，优化迫在眉睫。怎么优化呢？一力破万法：分表。首先，至少可以按照首字母分成 26 张表不是？分更多也不是不行，这样就把代价转移到代码中的去定位表的分支操作了，这个时间就可以忽略不计了。

前两天辅助码的问题，其实还是费了一点心思的，人也因此处在一个混沌的状态，想问题->想不明白->躺床上想->睡着->睡醒躺床上想->果然刚醒的时候想问题一下就明白，还不犯困。如此往复，两天时间也算是把辅助码给封进去了。没有辅助码，就如西方没有耶路撒冷，后果就是这么严重？。

然后就是近两天女友叮嘱我去澳的问题，我的原则是，年轻时代的真心难得，那么，其他也先不必考虑。只不过连旅游签也要讲概率，却也不能不令人发哂。

关于旧时代的流行音乐方面，从王菲的全集里发掘了一首，

- 忘掉你忘掉我

也算是沧海遗珠，拾珠了。

刘若英的旧歌似乎也不错，

- 知道不知道。

这首倒是从 B 站的聊斋(88)二创中拾取的。

最后，最近肠胃恢复得还行，伙食算是可以稍微放开一点了。至于人文社科类，大概可以归为荒诞派的《日光流年》可以作为睡前消遣：人若只有四十岁的寿命，看待世界的眼光有该当如何？正如当人被转换到另一个世界时：呐，你是向日葵派，还是蒲公英派呢？

![](https://i.postimg.cc/DfvB637V/IMG-0661.avif)

![](https://i.postimg.cc/4ZW5GMJd/IMG-0663.avif)

![](https://i.postimg.cc/Qs8bRsZw/IMG-0664.avif)

----------

[^1]: <https://github.com/fanlumaster/fcitx5-FanIME>


